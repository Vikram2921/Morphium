// User enrichment morph file
// Adds computed fields to user object

{
  id: $.id,
  name: $.name,
  email: $.email,
  age: $.age,
  isAdult: $.age >= 18,
  category: $.age < 18 ? "minor" : ($.age < 65 ? "adult" : "senior"),
  emailDomain: split($.email, "@")[1],
  initials: upper(split($.name, " ")[0][0] + split($.name, " ")[1][0]),
  createdAt: now()
}
